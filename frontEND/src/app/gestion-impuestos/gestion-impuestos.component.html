<!-- Navbar -->
<nav class="navbar navbar-expand-lg" style="background-color: #529dd676; position: relative;">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
      <div class="container-fluid">
       
        <div class="logo-container ms-5">
          <img id="rect" src="assets/Logoo.png" alt="Logo">
        </div>

      </div>
    </nav>
    <div class="d-flex ps-5 mb-4">
        <button class="btn text-light px-4 rounded-pill fw-semibold" 
                style="background-color: #2e77ae; border: none;"
                (click)="volver()">
          <i class="bi bi-house-fill"></i> Volver
        </button>
      </div>
<!-- Contenido -->

<div class="container my-4">
  <div class="row justify-content-center">


      <h4 class="text-center fw-bold mb-4 text-primary">Gesti√≥n de Impuestos por Tipo</h4>

      <!-- Fila con los dos campos -->
      <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label fw-semibold">Tipo de producto</label>
          <input type="text" [(ngModel)]="producto"
                 placeholder="Ej: lacteos, bebidas, etc."
                 class="form-control text-center">
        </div>

        <div class="col-md-6">
          <label class="form-label fw-semibold">Nuevo porcentaje de impuesto (%)</label>
          <input type="number" [(ngModel)]="impuesto"
                 placeholder="Ej: 19"
                 class="form-control text-center">
        </div>
      </div>

      <!-- Botones -->
      <div class="row">
        <div class="col-md-6 d-grid mb-2">
          <button (click)="mostrarProductos()" class="btn btn-success rounded-pill fw-semibold">
            Buscar Productos
          </button>
        </div>
        <div class="col-md-6 d-grid mb-2">
          <button (click)="gestionarImpuesto()" class="btn btn-warning rounded-pill fw-semibold text-dark">
            Actualizar Impuestos
          </button>
        </div>
      </div>

    </div>
  </div>



<!-- Tabla de resultados -->
<div class="container mt-5" *ngIf="productos.length > 0">
  <div class="card shadow">
    <div class="card-header bg-primary text-white text-center fw-bold">
      Productos encontrados
    </div>
    <div class="table-responsive">
      <table class="table table-bordered table-hover text-center align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Stock</th>
            <th>Precio</th>
            <th>Impuesto</th>
            <th>Porcentaje</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let producto of productos">
            <td>{{ producto.id_producto }}</td>
            <td>{{ producto.nombre_producto }}</td>
            <td>{{ producto.cantidad }}</td>
            <td>${{ producto.precio_compra.toFixed(2) }}</td>
            <td>{{ producto.nombre_impuesto }}</td>
            <td>{{ producto.porcentaje }}%</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>